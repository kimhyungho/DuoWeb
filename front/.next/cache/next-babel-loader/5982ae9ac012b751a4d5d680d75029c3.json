{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\k\\\\Desktop\\\\DUO\\\\front\\\\components\\\\MyInfo.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Button, Input, Form } from 'antd';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logoutRequestAction, signOutRequestAction, changeNicknameRequestAction, setNicknameAction } from '../reducers/user';\n\nvar MyInfo = function MyInfo() {\n  _s();\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      me = _useSelector.me,\n      signOutLoading = _useSelector.signOutLoading,\n      signOutDone = _useSelector.signOutDone,\n      changeNicknameDone = _useSelector.changeNicknameDone,\n      changeNicknameLoading = _useSelector.changeNicknameLoading;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(me.nickname),\n      newNickname = _useState[0],\n      setNewNickname = _useState[1];\n\n  var _useState2 = useState(false),\n      isChangeNickname = _useState2[0],\n      setIsChangeNickname = _useState2[1];\n\n  var onSetNewNickname = useCallback(function (e) {\n    setNewNickname(e.target.value);\n  }, []);\n  var onIsChangeNickname = useCallback(function () {\n    setIsChangeNickname(!isChangeNickname);\n  }, []);\n  var onSignOut = useCallback(function () {\n    var data = {\n      userId: me.userId,\n      userToken: me.userToken\n    };\n    dispatch(signOutRequestAction(data));\n  }, []);\n  var onChangeNickname = useCallback(function () {\n    var data = {\n      userId: me.userId,\n      nickname: newNickname,\n      userToken: me.userToken\n    };\n    dispatch(changeNicknameRequestAction(data));\n  }, [newNickname]);\n  useEffect(function () {\n    if (signOutDone) {\n      dispatch(logoutRequestAction());\n    }\n  }, [signOutDone]);\n  useEffect(function () {\n    if (changeNicknameDone) {\n      var data = {\n        newNickname: newNickname\n      };\n      dispatch(setNicknameAction(data));\n    }\n  }, [newNickname]);\n  return __jsx(React.Fragment, null, isChangeNickname ? __jsx(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, __jsx(Input, {\n    onChange: onSetNewNickname,\n    type: \"text\",\n    suffix: __jsx(Button, {\n      onClick: onChangeNickname,\n      loading: changeNicknameLoading,\n      htmlType: \"submit\",\n      type: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 76\n      }\n    }, \"\\uD655\\uC778\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  })) : __jsx(Input, {\n    prefix: me.nickname,\n    suffix: __jsx(Button, {\n      onClick: onIsChangeNickname,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 55\n      }\n    }, \"\\uBCC0\\uACBD\"),\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }\n  }), __jsx(Button, {\n    loading: signOutLoading,\n    onClick: onSignOut,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"\\uD68C\\uC6D0\\uD0C8\\uD1F4\"));\n};\n\n_s(MyInfo, \"bfyE8YApLivRqTBt3Cj34CxhyCM=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = MyInfo;\nexport default MyInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyInfo\");","map":{"version":3,"sources":["C:/Users/k/Desktop/DUO/front/components/MyInfo.js"],"names":["React","useCallback","useEffect","useState","Button","Input","Form","useSelector","useDispatch","logoutRequestAction","signOutRequestAction","changeNicknameRequestAction","setNicknameAction","MyInfo","state","user","me","signOutLoading","signOutDone","changeNicknameDone","changeNicknameLoading","dispatch","nickname","newNickname","setNewNickname","isChangeNickname","setIsChangeNickname","onSetNewNickname","e","target","value","onIsChangeNickname","onSignOut","data","userId","userToken","onChangeNickname"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\r\nimport { Button, Input, Form } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { logoutRequestAction, signOutRequestAction, changeNicknameRequestAction, setNicknameAction } from '../reducers/user';\r\n\r\n\r\nconst MyInfo = () => {\r\n\r\n    const { me, signOutLoading, signOutDone, changeNicknameDone, changeNicknameLoading } = useSelector((state) => state.user)\r\n    const dispatch = useDispatch();\r\n\r\n    const [newNickname, setNewNickname] = useState(me.nickname);\r\n    const [isChangeNickname, setIsChangeNickname] = useState(false);\r\n\r\n    const onSetNewNickname = useCallback((e) => {\r\n        setNewNickname(e.target.value);\r\n    }, []);\r\n\r\n    const onIsChangeNickname = useCallback(() => {\r\n        setIsChangeNickname(!isChangeNickname);\r\n    }, []);\r\n\r\n\r\n    const onSignOut = useCallback(() => {\r\n        const data = { userId: me.userId, userToken: me.userToken };\r\n        dispatch(signOutRequestAction(data));\r\n    }, []);\r\n\r\n    const onChangeNickname = useCallback(() => {\r\n        const data = { userId: me.userId, nickname: newNickname, userToken: me.userToken };\r\n        dispatch(changeNicknameRequestAction(data));\r\n    }, [newNickname]);\r\n\r\n    useEffect(() => {\r\n        if (signOutDone) {\r\n            dispatch(logoutRequestAction());\r\n        }\r\n    }, [signOutDone]);\r\n\r\n    useEffect(() => {\r\n        if (changeNicknameDone) {\r\n            const data = {newNickname};\r\n            dispatch(setNicknameAction(data));\r\n        }\r\n    }, [newNickname])\r\n\r\n    return (\r\n        <>\r\n            {isChangeNickname\r\n                ? <Form>\r\n                    <Input onChange={onSetNewNickname} type=\"text\" suffix={<Button onClick={onChangeNickname} loading={changeNicknameLoading} htmlType=\"submit\" type=\"primary\">확인</Button>} />\r\n                </Form>\r\n                : <Input prefix={me.nickname} suffix={<Button onClick={onIsChangeNickname}>변경</Button>} disabled />}\r\n\r\n            <Button loading={signOutLoading} onClick={onSignOut}>회원탈퇴</Button>\r\n        </>\r\n    );\r\n}\r\nexport default MyInfo;"]},"metadata":{},"sourceType":"module"}